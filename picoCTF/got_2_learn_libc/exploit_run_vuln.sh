#!/bin/bash

CUR_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"

cd ${CUR_DIR}

# create a named pipe
NAMED_PIPE=${CUR_DIR}/named_pipe
mkfifo ${NAMED_PIPE}

# execute ./vuln with named_pipe piped
cat ${NAMED_PIPE} | ${CUR_DIR}/vuln

# removed the named pipe after the exploit
rm ${NAMED_PIPE}
